(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1218],{29222:function(e,t,r){"use strict";r.d(t,{d:function(){return d},z:function(){return p}});var n=r(59499),a=r(4730),s=r(67294),i=r(88426),o=r(12003),c=r(20439),u=r(85893),l=["className","variant","size","asChild"];function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var d=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),p=s.forwardRef(function(e,t){var r=e.className,s=e.variant,o=e.size,p=e.asChild,h=(0,a.Z)(e,l),v=void 0!==p&&p?i.g7:"button";return(0,u.jsx)(v,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({className:(0,c.cn)(d({variant:s,size:o,className:r})),ref:t},h))});p.displayName="Button"},69456:function(e,t,r){"use strict";r.d(t,{X:function(){return A}});var n=r(59499),a=r(4730),s=r(67294),i=r(28771),o=r(25360),c=r(36206),u=r(77342),l=r(57898),f=r(7546),d=r(29115),p=r(75320),h=r(85893),v="Checkbox",[m,b]=(0,o.b)(v),[y,g]=m(v),x=s.forwardRef((e,t)=>{let{__scopeCheckbox:r,name:n,checked:a,defaultChecked:o,required:l,disabled:f,value:d="on",onCheckedChange:v,form:m,...b}=e,[g,x]=s.useState(null),j=(0,i.e)(t,e=>x(e)),w=s.useRef(!1),E=!g||m||!!g.closest("form"),[S=!1,C]=(0,u.T)({prop:a,defaultProp:o,onChange:v}),P=s.useRef(S);return s.useEffect(()=>{let e=g?.form;if(e){let t=()=>C(P.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[g,C]),(0,h.jsxs)(y,{scope:r,state:S,disabled:f,children:[(0,h.jsx)(p.WV.button,{type:"button",role:"checkbox","aria-checked":O(S)?"mixed":S,"aria-required":l,"data-state":N(S),"data-disabled":f?"":void 0,disabled:f,value:d,...b,ref:j,onKeyDown:(0,c.M)(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,c.M)(e.onClick,e=>{C(e=>!!O(e)||!e),E&&(w.current=e.isPropagationStopped(),w.current||e.stopPropagation())})}),E&&(0,h.jsx)(k,{control:g,bubbles:!w.current,name:n,value:d,checked:S,required:l,disabled:f,form:m,style:{transform:"translateX(-100%)"},defaultChecked:!O(o)&&o})]})});x.displayName=v;var j="CheckboxIndicator",w=s.forwardRef((e,t)=>{let{__scopeCheckbox:r,forceMount:n,...a}=e,s=g(j,r);return(0,h.jsx)(d.z,{present:n||O(s.state)||!0===s.state,children:(0,h.jsx)(p.WV.span,{"data-state":N(s.state),"data-disabled":s.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});w.displayName=j;var k=e=>{let{control:t,checked:r,bubbles:n=!0,defaultChecked:a,...i}=e,o=s.useRef(null),c=(0,l.D)(r),u=(0,f.t)(t);s.useEffect(()=>{let e=o.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(c!==r&&t){let a=new Event("click",{bubbles:n});e.indeterminate=O(r),t.call(e,!O(r)&&r),e.dispatchEvent(a)}},[c,r,n]);let d=s.useRef(!O(r)&&r);return(0,h.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??d.current,...i,tabIndex:-1,ref:o,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function O(e){return"indeterminate"===e}function N(e){return O(e)?"indeterminate":e?"checked":"unchecked"}var E=r(62469),S=r(20439),C=["className"];function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var A=s.forwardRef(function(e,t){var r=e.className,n=(0,a.Z)(e,C);return(0,h.jsx)(x,z(z({ref:t,className:(0,S.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",r)},n),{},{children:(0,h.jsx)(w,{className:(0,S.cn)("flex items-center justify-center text-current"),children:(0,h.jsx)(E.nQG,{className:"h-4 w-4"})})}))});A.displayName=x.displayName},79456:function(e,t,r){"use strict";r.r(t);var n=r(27812),a=r(50029),s=r(64687),i=r.n(s),o=r(67294),c=r(45007),u=r(47321),l=r(29222),f=r(74208),d=r(69456),p=r(85893);function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}t.default=function(){var e,t=(0,o.useState)(!1),r=t[0],s=t[1],v=(0,o.useState)(null),m=v[0],b=v[1],y=(0,o.useState)([]),g=y[0],x=y[1],j=(0,o.useState)([]),w=j[0],k=j[1],O=(0,o.useState)([]),N=O[0],E=O[1],S=(0,o.useState)([]),C=S[0],P=S[1],z=(0,o.useState)([]),A=z[0],D=z[1],Z=(0,c.v9)(function(e){return e.auth.token});(0,o.useEffect)(function(){var e,t,r=(e=(0,a.Z)(i().mark(function e(){var t;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.gajkesaristeels.in/employee/getOfficeManager",{headers:{Authorization:"Bearer ".concat(Z)}});case 3:return t=e.sent,e.next=6,t.json();case 6:E(e.sent),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error fetching office managers:",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])})),function(){return e.apply(this,arguments)}),n=(t=(0,a.Z)(i().mark(function e(){var t;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.gajkesaristeels.in/employee/getAll",{headers:{Authorization:"Bearer ".concat(Z)}});case 3:return t=e.sent,e.next=6,t.json();case 6:P(Array.from(new Set(e.sent.map(function(e){return e.city})))),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error fetching cities:",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,11]])})),function(){return t.apply(this,arguments)});Z&&(r(),n())},[Z]),(0,o.useEffect)(function(){var e,t=(e=(0,a.Z)(i().mark(function e(){var t,r,a,s,o,c;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=[],r=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return h(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,void 0)}}(e))){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){o=!0,s=e},f:function(){try{i||null==r.return||r.return()}finally{if(o)throw s}}}}(g),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=21;break}return s=a.value,e.prev=6,e.next=9,fetch("https://api.gajkesaristeels.in/employee/getFieldOfficerByCity?city=".concat(s),{headers:{Authorization:"Bearer ".concat(Z)}});case 9:return o=e.sent,e.next=12,o.json();case 12:c=e.sent,t.push.apply(t,(0,n.Z)(c)),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),console.error("Error fetching employees for city ".concat(s,":"),e.t0);case 19:e.next=4;break;case 21:e.next=26;break;case 23:e.prev=23,e.t1=e.catch(2),r.e(e.t1);case 26:return e.prev=26,r.f(),e.finish(26);case 29:D(t);case 30:case"end":return e.stop()}},e,null,[[2,23,26,29],[6,16]])})),function(){return e.apply(this,arguments)});g.length>0&&t()},[g,Z]);var _=function(){s(!1)},M=function(e){k(function(t){return t.includes(e)?t.filter(function(t){return t!==e}):[].concat((0,n.Z)(t),[e])})},R=(e=(0,a.Z)(i().mark(function e(){var t,r;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(m){e.next=2;break}return e.abrupt("return");case 2:return t={officeManager:m.value,fieldOfficers:w},e.prev=3,e.next=6,fetch("https://api.gajkesaristeels.in/employee/team/create",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(Z)},body:JSON.stringify(t)});case 6:if((r=e.sent).ok){e.next=14;break}return e.next=10,r.json();case 10:console.error("Error creating team:",e.sent),e.next=19;break;case 14:return e.next=16,r.json();case 16:console.log("Team created successfully:",e.sent),_();case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(3),console.error("Error creating team:",e.t0);case 24:case"end":return e.stop()}},e,null,[[3,21]])})),function(){return e.apply(this,arguments)}),T=C.map(function(e){return{value:e,label:e}});return(0,p.jsxs)("div",{children:["\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 ",(0,p.jsxs)(u.Vq,{open:r,onOpenChange:s,children:["\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 ",(0,p.jsxs)(u.hg,{asChild:!0,children:["\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 ",(0,p.jsx)(l.z,{onClick:function(){s(!0)},className:"ml-4",children:"Add Team"}),"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 "]}),"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 ",(0,p.jsxs)(u.cZ,{className:"sm:max-w-[425px]",children:["\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 ",(0,p.jsxs)(u.fK,{children:["\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 ",(0,p.jsx)(u.$N,{children:"Add Item"}),"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 "]}),"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 ",(0,p.jsxs)("div",{className:"grid gap-4 py-4",children:["\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 ",(0,p.jsxs)("div",{className:"grid gap-2",children:["\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 ",(0,p.jsx)("label",{htmlFor:"officeManager",children:"Office Manager"}),"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 ",(0,p.jsx)(f.ZP,{value:m,onChange:function(e){return b(e)},options:N.map(function(e){return{value:e.id,label:"".concat(e.firstName," ").concat(e.lastName)}}),placeholder:"Select an office manager"}),"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 "]}),"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 ",(0,p.jsxs)("div",{className:"grid gap-2",children:["\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 ",(0,p.jsx)("label",{htmlFor:"city",children:"City"}),"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 ",(0,p.jsx)(f.ZP,{isMulti:!0,value:g.map(function(e){return{value:e,label:e}}),onChange:function(e){return x(e.map(function(e){return e.value}))},options:T,placeholder:"Select cities"}),"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 "]}),"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 ",(0,p.jsxs)("div",{className:"grid gap-2",children:["\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 ",(0,p.jsx)("label",{htmlFor:"employeeName",children:"Employee Name"}),"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 ",(0,p.jsxs)("div",{className:"space-y-2",children:["\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 ",A.map(function(e){return(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:["\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 ",(0,p.jsx)(d.X,{id:"employee-".concat(e.id),checked:w.includes(e.id),onCheckedChange:function(){return M(e.id)}}),"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 ",(0,p.jsxs)("label",{htmlFor:"employee-".concat(e.id),className:"cursor-pointer",children:["\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 ",e.firstName," ",e.lastName,"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 "]}),"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 "]},e.id)}),"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 "]}),"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 "]}),"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 "]}),"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 ",(0,p.jsxs)("div",{className:"flex justify-end",children:["\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 ",(0,p.jsx)(l.z,{variant:"outline",onClick:_,children:"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 Cancel \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 "}),"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 ",(0,p.jsx)(l.z,{onClick:R,children:"Create Team"}),"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 "]}),"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 "]}),"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 "]}),"\xa0 \xa0 \xa0 \xa0 "]})}},18381:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/AddItem",function(){return r(79456)}])},57898:function(e,t,r){"use strict";r.d(t,{D:function(){return a}});var n=r(67294);function a(e){let t=n.useRef({value:e,previous:e});return n.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}},7546:function(e,t,r){"use strict";r.d(t,{t:function(){return s}});var n=r(67294),a=r(9981);function s(e){let[t,r]=n.useState(void 0);return(0,a.b)(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let n,a;if(!Array.isArray(t)||!t.length)return;let s=t[0];if("borderBoxSize"in s){let e=s.borderBoxSize,t=Array.isArray(e)?e[0]:e;n=t.inlineSize,a=t.blockSize}else n=e.offsetWidth,a=e.offsetHeight;r({width:n,height:a})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),t}}},function(e){e.O(0,[9545,4208,2888,9774,179],function(){return e(e.s=18381)}),_N_E=e.O()}]);