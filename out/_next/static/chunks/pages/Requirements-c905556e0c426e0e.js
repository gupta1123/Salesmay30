(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4694],{50394:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var s=(0,r(92765).Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},56853:function(e,t,r){"use strict";r.d(t,{f:function(){return p}});var s=r(77191),n=r(36864),a=r(59499),i=r(4730);r(67294);var l=r(62469),c=r(65905),o=r(20439),d=r(29222),u=r(85893),h=["className","classNames","showOutsideDays"];function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach(function(t){(0,a.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function p(e){var t=e.className,r=e.classNames,a=e.showOutsideDays,x=(0,i.Z)(e,h);return(0,u.jsx)(c._W,m({showOutsideDays:void 0===a||a,className:(0,o.cn)("p-3",t),classNames:m({months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,o.cn)((0,d.d)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:(0,o.cn)("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected].day-range-end)]:rounded-r-md","range"===x.mode?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:(0,o.cn)((0,d.d)({variant:"ghost"}),"h-8 w-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start",day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50  aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible"},r),components:{IconLeft:function(e){return(0,n.Z)({},((0,s.Z)(e),e)),(0,u.jsx)(l.wyc,{className:"h-4 w-4"})},IconRight:function(e){return(0,n.Z)({},((0,s.Z)(e),e)),(0,u.jsx)(l.XCv,{className:"h-4 w-4"})}}},x))}p.displayName="Calendar"},20072:function(e,t,r){"use strict";r.d(t,{J2:function(){return u},xo:function(){return h},yk:function(){return x}});var s=r(59499),n=r(4730),a=r(67294),i=r(86419),l=r(20439),c=r(85893),o=["className","align","sideOffset"];function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}var u=i.fC,h=i.xz;i.ee;var x=a.forwardRef(function(e,t){var r=e.className,a=e.align,u=e.sideOffset,h=(0,n.Z)(e,o);return(0,c.jsx)(i.h_,{children:(0,c.jsx)(i.VY,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){(0,s.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({ref:t,align:void 0===a?"center":a,sideOffset:void 0===u?4:u,className:(0,l.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r)},h))})});x.displayName=i.VY.displayName},23515:function(e,t,r){"use strict";r.r(t);var s=r(27812),n=r(50029),a=r(59499),i=r(64687),l=r.n(i),c=r(67294),o=r(83800),d=r(66083),u=r(11163),h=r(45007),x=r(34221),m=r(13114),p=r(96486),f=r(29222),j=r(19756),g=r(62546),y=r(61711),v=r(89899),w=r(56853),N=r(47321),k=r(20072),b=r(85781),D=r(65474),C=r(41079),O=r(64675),P=r(46674),T=r(32290),S=r(57613),_=r(23857),I=r(56641),Z=r(43243),E=r(58907),F=r(8221),Q=r(76803),A=r(50394),q=r(35376),B=r(87427),z=r(49486);r(67271);var M=r(85893);function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach(function(t){(0,a.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}t.default=function(){var e,t,r,i=(0,c.useState)([]),V=i[0],W=i[1],U=(0,c.useState)([]),L=U[0],X=U[1],J=(0,c.useState)({id:0,taskTitle:"",taskDescription:"",dueDate:"",assignedToId:0,assignedToName:"",assignedById:86,status:"Assigned",priority:"low",category:"Requirement",storeId:0,storeName:"",storeCity:"",taskType:"requirement"}),Y=J[0],H=J[1],$=(0,u.useRouter)(),G=(0,c.useState)("general"),K=G[0],ee=G[1],et=(0,c.useState)(!1),er=et[0],es=et[1],en=(0,c.useState)(1),ea=en[0],ei=en[1],el=(0,c.useState)({employee:"",priority:"",status:"",search:"",startDate:(0,o.WU)(new Date,"yyyy-MM-dd"),endDate:(0,o.WU)(new Date,"yyyy-MM-dd")}),ec=el[0],eo=el[1],ed=(0,c.useState)(!0),eu=ed[0],eh=ed[1],ex=(0,c.useState)([]),em=ex[0],ep=ex[1],ef=(0,c.useState)([]),ej=ef[0],eg=ef[1],ey=(0,c.useState)([]),ev=ey[0],ew=ey[1],eN=(0,c.useState)(null),ek=eN[0],eb=eN[1],eD=(0,c.useState)(null),eC=eD[0],eO=eD[1],eP=(0,c.useState)(!1),eT=eP[0],eS=eP[1],e_=(0,h.v9)(function(e){return e.auth.token}),eI=(0,h.v9)(function(e){return e.auth.role}),eZ=(0,h.v9)(function(e){return e.auth.teamId});(0,c.useEffect)(function(){if(ek){var e=setTimeout(function(){eb(null)},2e4);return function(){return clearTimeout(e)}}},[ek]);var eE=function(e,t){var r=R(R({},ec),{},(0,a.Z)({},e,t));if(r.startDate&&r.endDate){var s=new Date(r.startDate),n=new Date(r.endDate);if((0,d.j)(n,s)>30){eb("Date range should not exceed 30 days");return}}eo(r)},eF=function(e){$.push("/CustomerDetailPage/".concat(e))},eQ=function(e){$.push("/SalesExecutive/".concat(e))},eA=(0,c.useCallback)((0,n.Z)(l().mark(function e(){var t,r,s,n;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return eh(!0),e.prev=1,t=(0,o.WU)(new Date(ec.startDate),"yyyy-MM-dd"),r=(0,o.WU)(new Date(ec.endDate),"yyyy-MM-dd"),s="MANAGER"===eI?"https://api.gajkesaristeels.in/task/getByTeamAndDate?start=".concat(t,"&end=").concat(r,"&id=").concat(eZ):"https://api.gajkesaristeels.in/task/getByDate?start=".concat(t,"&end=").concat(r),e.next=7,fetch(s,{headers:{Authorization:"Bearer ".concat(e_)}});case 7:return n=e.sent,e.next=10,n.json();case 10:W(e.sent.filter(function(e){return"requirement"===e.taskType}).map(function(e){return R(R({},e),{},{taskDescription:e.taskDescription,assignedToName:e.assignedToName||"Unknown"})}).sort(function(e,t){return new Date(t.dueDate).getTime()-new Date(e.dueDate).getTime()})),eh(!1),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(1),console.error("Error fetching tasks:",e.t0),eh(!1);case 20:case"end":return e.stop()}},e,null,[[1,16]])})),[eI,ec,eZ,e_]),eq=(0,c.useCallback)((0,n.Z)(l().mark(function e(){var t,r;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.gajkesaristeels.in/employee/getAll",{headers:{Authorization:"Bearer ".concat(e_)}});case 3:return t=e.sent,e.next=6,t.json();case 6:r=e.sent,ep((0,p.sortBy)(r,function(e){return"".concat(e.firstName," ").concat(e.lastName)})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error fetching employees:",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,11]])})),[e_]),eB=(0,c.useCallback)((0,n.Z)(l().mark(function e(){var t;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.gajkesaristeels.in/store/names",{headers:{Authorization:"Bearer ".concat(e_)}});case 3:return t=e.sent,e.next=6,t.json();case 6:ew(e.sent),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error fetching stores:",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])})),[e_]);(0,c.useEffect)(function(){eA()},[e_,ea,ec,eA]),(0,c.useEffect)(function(){eq()},[eq]),(0,c.useEffect)(function(){er&&eB()},[er,eB]),(0,c.useEffect)(function(){if(V.length>0){var e=(0,p.uniqBy)(V.map(function(e){return{id:e.assignedToId,name:e.assignedToName}}),"id");eg((0,p.sortBy)(e,"name"))}},[V]),(0,c.useEffect)(function(){ez()},[V,ec]);var ez=function(){var e=ec.search.toLowerCase();X(V.filter(function(t){var r,s,n,a;return"requirement"===t.taskType&&(((null===(r=t.taskTitle)||void 0===r?void 0:r.toLowerCase())||"").includes(e)||((null===(s=t.taskDescription)||void 0===s?void 0:s.toLowerCase())||"").includes(e)||((null===(n=t.storeName)||void 0===n?void 0:n.toLowerCase())||"").includes(e)||((null===(a=t.assignedToName)||void 0===a?void 0:a.toLowerCase())||"").includes(e))&&(""===ec.employee||"all"===ec.employee||t.assignedToId===parseInt(ec.employee))&&(""===ec.priority||"all"===ec.priority||t.priority===ec.priority)&&(""===ec.status||"all"===ec.status?"Complete"!==t.status:t.status===ec.status)&&(""===ec.startDate||new Date(t.dueDate)>=new Date(ec.startDate))&&(""===ec.endDate||new Date(t.dueDate)<=new Date(ec.endDate))}))},eM=(e=(0,n.Z)(l().mark(function e(){var t,r,n,a,i,c,o;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=R(R({},Y),{},{taskType:"requirement"}),e.next=4,fetch("https://api.gajkesaristeels.in/task/create",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e_)},body:JSON.stringify(a)});case 4:return i=e.sent,e.next=7,i.json();case 7:c=e.sent,o=R(R({},Y),{},{id:c.id,assignedToName:(null===(t=em.find(function(e){return e.id===Y.assignedToId}))||void 0===t?void 0:t.firstName)+" "+(null===(r=em.find(function(e){return e.id===Y.assignedToId}))||void 0===r?void 0:r.lastName)||"Unknown",storeName:(null===(n=ev.find(function(e){return e.id===Y.storeId}))||void 0===n?void 0:n.storeName)||""}),W(function(e){return[o].concat((0,s.Z)(e))}),H({id:0,taskTitle:"",taskDescription:"",dueDate:"",assignedToId:0,assignedToName:"",assignedById:86,status:"Assigned",priority:"low",category:"Requirement",storeId:0,storeName:"",storeCity:"",taskType:"requirement"}),es(!1),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.error("Error creating task:",e.t0);case 17:case"end":return e.stop()}},e,null,[[0,14]])})),function(){return e.apply(this,arguments)}),eV=(t=(0,n.Z)(l().mark(function e(t,r){return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.gajkesaristeels.in/task/updateTask?taskId=".concat(t),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e_)},body:JSON.stringify({status:r})});case 3:e.sent.ok?W(function(e){return e.map(function(e){return e.id===t?R(R({},e),{},{status:r}):e})}):console.error("Failed to update task status"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error updating task status:",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(e,r){return t.apply(this,arguments)}),eR=(r=(0,n.Z)(l().mark(function e(t){return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.gajkesaristeels.in/task/deleteById?taskId=".concat(t),{method:"DELETE",headers:{Authorization:"Bearer ".concat(e_)}});case 3:eA(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Error deleting task:",e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])})),function(e){return r.apply(this,arguments)}),eW=function(e){ei(e)},eU=function(e,t){eo(function(r){return R(R({},r),{},(0,a.Z)({},e,t))}),ez()},eL=function(e){switch(e.toLowerCase()){case"assigned":return{icon:(0,M.jsx)(T.Z,{className:"w-4 h-4"}),color:"bg-purple-100 text-purple-800"};case"work in progress":return{icon:(0,M.jsx)(S.Z,{className:"w-4 h-4 animate-spin"}),color:"bg-blue-100 text-blue-800"};case"complete":return{icon:(0,M.jsx)(_.Z,{className:"w-4 h-4"}),color:"bg-green-100 text-green-800"};default:return{icon:(0,M.jsx)(I.Z,{className:"w-4 h-4"}),color:"bg-gray-100 text-gray-800"}}},eX=function(e,t){var r=eL(e.status),s=r.icon,n=r.color,a=eC===e.id;return(0,M.jsx)(x.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1*t},className:"w-full sm:w-1/2 lg:w-1/3 p-2",children:(0,M.jsxs)(D.Zb,{className:"h-full overflow-hidden shadow-lg hover:shadow-xl transition-shadow duration-300",children:[(0,M.jsxs)(D.Ol,{className:"pb-2",children:[(0,M.jsxs)("div",{className:"flex justify-between items-center",children:[(0,M.jsxs)(j.C,{className:"".concat(n," px-3 py-1 rounded-full font-semibold flex items-center space-x-2"),children:[s," ",(0,M.jsx)("span",{children:e.status})]}),(0,M.jsxs)(O.h_,{children:[(0,M.jsx)(O.$F,{asChild:!0,children:(0,M.jsx)(f.z,{variant:"ghost",size:"sm",children:(0,M.jsx)(Z.Z,{className:"h-4 w-4"})})}),(0,M.jsxs)(O.AW,{align:"end",children:[(0,M.jsxs)(O.Xi,{onClick:function(){return eF(e.storeId)},children:[(0,M.jsx)(E.Z,{className:"mr-2 h-4 w-4"})," View Store"]}),(0,M.jsxs)(O.Xi,{onClick:function(){return eQ(e.assignedToId)},children:[(0,M.jsx)(F.Z,{className:"mr-2 h-4 w-4"})," View Field Officer"]}),(0,M.jsx)(O.VD,{}),(0,M.jsxs)(O.Xi,{onClick:function(){return eR(e.id)},className:"text-red-600",children:[(0,M.jsx)(Q.Z,{className:"mr-2 h-4 w-4"})," Delete Requirement"]})]})]})]}),(0,M.jsx)(D.ll,{className:"text-xl mt-2",children:e.taskTitle||"Untitled Requirement"}),(0,M.jsxs)(D.SZ,{className:"flex items-center mt-1",children:[(0,M.jsx)(E.Z,{className:"w-4 h-4 mr-2 text-gray-500"}),e.storeName]})]}),(0,M.jsxs)(D.aY,{children:[(0,M.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,M.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,M.jsx)(F.Z,{className:"w-4 h-4 text-indigo-500"}),(0,M.jsxs)("div",{children:[(0,M.jsx)("span",{className:"text-sm text-gray-500",children:"Assigned to"}),(0,M.jsx)("p",{className:"font-medium",children:e.assignedToName})]})]}),(0,M.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,M.jsx)(A.Z,{className:"w-4 h-4 text-purple-500"}),(0,M.jsxs)("div",{children:[(0,M.jsx)("span",{className:"text-sm text-gray-500",children:"Priority"}),(0,M.jsx)("p",{className:"font-medium capitalize",children:e.priority})]})]})]}),(0,M.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[(0,M.jsx)(q.Z,{className:"w-4 h-4"}),(0,M.jsxs)("span",{children:["Due: ",(0,o.WU)(new Date(e.dueDate),"MMM d, yyyy")]})]})]}),(0,M.jsxs)(D.eW,{className:"bg-gray-50 flex justify-between items-center",children:[(0,M.jsxs)(v.Ph,{value:e.status,onValueChange:function(t){return eV(e.id,t)},children:[(0,M.jsx)(v.i4,{className:"w-[140px]",children:(0,M.jsx)(v.ki,{placeholder:"Change status"})}),(0,M.jsxs)(v.Bw,{children:[(0,M.jsx)(v.Ql,{value:"Assigned",children:"Assigned"}),(0,M.jsx)(v.Ql,{value:"Work In Progress",children:"Work In Progress"}),(0,M.jsx)(v.Ql,{value:"Complete",children:"Complete"})]})]}),(0,M.jsx)(f.z,{variant:"ghost",size:"sm",onClick:function(){return eO(a?null:e.id)},className:"text-gray-500 hover:text-gray-700"})]}),(0,M.jsx)(m.M,{children:a&&(0,M.jsx)(x.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:(0,M.jsx)(D.aY,{className:"border-t pt-4 mt-4",children:(0,M.jsx)("p",{className:"text-gray-700",children:e.taskDescription})})})})]})},e.id)};return(0,M.jsxs)("div",{className:"container-requirements mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[(0,M.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Requirements Management"}),(0,M.jsxs)("div",{className:"mb-6 flex flex-wrap gap-4 items-center",children:[(0,M.jsxs)("div",{className:"flex-grow lg:flex-grow-0 lg:w-64 flex items-center gap-2",children:[(0,M.jsx)(g.I,{placeholder:"Search requirements",value:ec.search,onChange:function(e){return eU("search",e.target.value)},className:"w-full"}),(0,M.jsxs)(f.z,{onClick:function(){return es(!0)},children:[(0,M.jsx)(z.Z,{className:"w-4 h-4 mr-2"})," New"]})]}),(0,M.jsx)("div",{className:"flex-shrink-0",children:(0,M.jsxs)(P.yo,{open:eT,onOpenChange:eS,children:[(0,M.jsx)(P.aM,{asChild:!0,children:(0,M.jsxs)(f.z,{variant:"outline",size:"sm",className:"lg:hidden",children:[(0,M.jsx)(B.Z,{className:"w-4 h-4 mr-2"}),"Filters"]})}),(0,M.jsxs)(P.ue,{side:"right",className:"w-[300px] sm:w-[400px]",children:[(0,M.jsx)(P.Tu,{children:(0,M.jsx)(P.bC,{children:"Filters"})}),(0,M.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,M.jsxs)("div",{className:"space-y-2",children:[(0,M.jsx)(y._,{htmlFor:"search",children:"Search"}),(0,M.jsx)(g.I,{id:"search",placeholder:"Search requirements",value:ec.search,onChange:function(e){return eU("search",e.target.value)}})]}),(0,M.jsxs)("div",{className:"space-y-2",children:[(0,M.jsx)(y._,{htmlFor:"employee",children:"Employee"}),(0,M.jsxs)(v.Ph,{value:ec.employee,onValueChange:function(e){return eU("employee",e)},children:[(0,M.jsx)(v.i4,{id:"employee",children:(0,M.jsx)(v.ki,{placeholder:"Filter by employee"})}),(0,M.jsxs)(v.Bw,{children:[(0,M.jsx)(v.Ql,{value:"all",children:"All Employees"}),ej.map(function(e){return(0,M.jsx)(v.Ql,{value:e.id.toString(),children:e.name},e.id)})]})]})]}),(0,M.jsxs)("div",{className:"space-y-2",children:[(0,M.jsx)(y._,{htmlFor:"priority",children:"Priority"}),(0,M.jsxs)(v.Ph,{value:ec.priority,onValueChange:function(e){return eU("priority",e)},children:[(0,M.jsx)(v.i4,{id:"priority",children:(0,M.jsx)(v.ki,{placeholder:"Filter by priority"})}),(0,M.jsxs)(v.Bw,{children:[(0,M.jsx)(v.Ql,{value:"all",children:"All Priorities"}),(0,M.jsx)(v.Ql,{value:"low",children:"Low"}),(0,M.jsx)(v.Ql,{value:"medium",children:"Medium"}),(0,M.jsx)(v.Ql,{value:"high",children:"High"})]})]})]}),(0,M.jsxs)("div",{className:"space-y-2",children:[(0,M.jsx)(y._,{htmlFor:"status",children:"Status"}),(0,M.jsxs)(v.Ph,{value:ec.status,onValueChange:function(e){return eU("status",e)},children:[(0,M.jsx)(v.i4,{id:"status",children:(0,M.jsx)(v.ki,{placeholder:"Filter by status"})}),(0,M.jsxs)(v.Bw,{children:[(0,M.jsx)(v.Ql,{value:"all",children:"All Open Statuses"}),(0,M.jsx)(v.Ql,{value:"Assigned",children:"Assigned"}),(0,M.jsx)(v.Ql,{value:"Work In Progress",children:"Work In Progress"}),(0,M.jsx)(v.Ql,{value:"Complete",children:"Complete"})]})]})]}),(0,M.jsxs)("div",{className:"space-y-2",children:[(0,M.jsx)(y._,{htmlFor:"startDate",children:"Start Date"}),(0,M.jsx)(g.I,{id:"startDate",type:"date",value:ec.startDate,onChange:function(e){return eE("startDate",e.target.value)}})]}),(0,M.jsxs)("div",{className:"space-y-2",children:[(0,M.jsx)(y._,{htmlFor:"endDate",children:"End Date"}),(0,M.jsx)(g.I,{id:"endDate",type:"date",value:ec.endDate,onChange:function(e){return eE("endDate",e.target.value)}})]})]}),(0,M.jsx)(f.z,{onClick:function(){ez(),eS(!1)},className:"w-full mt-4",children:"Apply Filters"})]})]})}),(0,M.jsxs)("div",{className:"hidden lg:flex flex-wrap gap-4 items-center",children:[(0,M.jsxs)(v.Ph,{value:ec.employee,onValueChange:function(e){return eU("employee",e)},children:[(0,M.jsx)(v.i4,{className:"w-[200px]",children:(0,M.jsx)(v.ki,{placeholder:"Filter by employee"})}),(0,M.jsxs)(v.Bw,{children:[(0,M.jsx)(v.Ql,{value:"all",children:"All Employees"}),ej.map(function(e){return(0,M.jsx)(v.Ql,{value:e.id.toString(),children:e.name},e.id)})]})]}),(0,M.jsxs)(v.Ph,{value:ec.priority,onValueChange:function(e){return eU("priority",e)},children:[(0,M.jsx)(v.i4,{className:"w-[200px]",children:(0,M.jsx)(v.ki,{placeholder:"Filter by priority"})}),(0,M.jsxs)(v.Bw,{children:[(0,M.jsx)(v.Ql,{value:"all",children:"All Priorities"}),(0,M.jsx)(v.Ql,{value:"low",children:"Low"}),(0,M.jsx)(v.Ql,{value:"medium",children:"Medium"}),(0,M.jsx)(v.Ql,{value:"high",children:"High"})]})]}),(0,M.jsxs)(v.Ph,{value:ec.status,onValueChange:function(e){return eU("status",e)},children:[(0,M.jsx)(v.i4,{className:"w-[200px]",children:(0,M.jsx)(v.ki,{placeholder:"Filter by status"})}),(0,M.jsxs)(v.Bw,{children:[(0,M.jsx)(v.Ql,{value:"all",children:"All Open Statuses"}),(0,M.jsx)(v.Ql,{value:"Assigned",children:"Assigned"}),(0,M.jsx)(v.Ql,{value:"Work In Progress",children:"Work In Progress"}),(0,M.jsx)(v.Ql,{value:"Complete",children:"Complete"})]})]}),(0,M.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,M.jsx)(y._,{htmlFor:"startDate",children:"From:"}),(0,M.jsx)(g.I,{type:"date",id:"startDate",value:ec.startDate,onChange:function(e){return eE("startDate",e.target.value)},className:"w-auto"})]}),(0,M.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,M.jsx)(y._,{htmlFor:"endDate",children:"To:"}),(0,M.jsx)(g.I,{type:"date",id:"endDate",value:ec.endDate,onChange:function(e){return eE("endDate",e.target.value)},className:"w-auto"})]})]})]}),(0,M.jsx)(N.Vq,{open:er,onOpenChange:es,children:(0,M.jsxs)(N.cZ,{children:[(0,M.jsxs)(N.fK,{children:[(0,M.jsx)(N.$N,{children:"Create New Requirement"}),(0,M.jsx)(N.Be,{children:"Fill in the details to create a new requirement."})]}),(0,M.jsxs)(b.mQ,{value:K,className:"w-full",children:[(0,M.jsxs)(b.dr,{className:"grid w-full grid-cols-2",children:[(0,M.jsx)(b.SP,{value:"general",onClick:function(){return ee("general")},children:"General"}),(0,M.jsx)(b.SP,{value:"details",onClick:function(){return ee("details")},children:"Details"})]}),(0,M.jsx)(b.nU,{value:"general",children:(0,M.jsxs)("div",{className:"grid gap-4",children:[(0,M.jsxs)("div",{className:"grid gap-2",children:[(0,M.jsx)(y._,{htmlFor:"taskTitle",children:"Requirement Title"}),(0,M.jsx)(g.I,{id:"taskTitle",placeholder:"Enter requirement title",value:Y.taskTitle,onChange:function(e){return H(R(R({},Y),{},{taskTitle:e.target.value}))}})]}),(0,M.jsxs)("div",{className:"grid gap-2",children:[(0,M.jsx)(y._,{htmlFor:"taskDescription",children:"Requirement Description"}),(0,M.jsx)(g.I,{id:"taskDescription",placeholder:"Enter requirement description",value:Y.taskDescription,onChange:function(e){return H(R(R({},Y),{},{taskDescription:e.target.value}))}})]}),(0,M.jsxs)("div",{className:"grid gap-2",children:[(0,M.jsx)(y._,{htmlFor:"category",children:"Category"}),(0,M.jsxs)(v.Ph,{value:Y.category,onValueChange:function(e){return H(R(R({},Y),{},{category:e}))},children:[(0,M.jsx)(v.i4,{className:"w-[280px]",children:(0,M.jsx)(v.ki,{placeholder:"Select a category"})}),(0,M.jsx)(v.Bw,{children:(0,M.jsx)(v.Ql,{value:"Requirement",children:"Requirement"})})]})]}),(0,M.jsxs)("div",{className:"flex justify-between mt-4",children:[(0,M.jsx)(f.z,{variant:"outline",onClick:function(){return es(!1)},children:"Cancel"}),(0,M.jsx)(f.z,{onClick:function(){ee("details")},children:"Next"})]})]})}),(0,M.jsx)(b.nU,{value:"details",children:(0,M.jsxs)("div",{className:"grid gap-4",children:[(0,M.jsxs)("div",{className:"grid gap-2",children:[(0,M.jsx)(y._,{htmlFor:"dueDate",children:"Due Date"}),(0,M.jsxs)(k.J2,{children:[(0,M.jsx)(k.xo,{asChild:!0,children:(0,M.jsxs)(f.z,{variant:"outline",className:"w-[280px] justify-start text-left font-normal ".concat(!Y.dueDate&&"text-muted-foreground"),children:[(0,M.jsx)(q.Z,{className:"mr-2 h-4 w-4"}),Y.dueDate?(0,o.WU)(new Date(Y.dueDate),"PPP"):(0,M.jsx)("span",{children:"Pick a date"})]})}),(0,M.jsx)(k.yk,{className:"w-auto p-0",children:(0,M.jsx)(w.f,{mode:"single",selected:Y.dueDate?new Date(Y.dueDate):void 0,onSelect:function(e){return H(R(R({},Y),{},{dueDate:(null==e?void 0:e.toISOString())||""}))},initialFocus:!0})})]})]}),(0,M.jsxs)("div",{className:"grid gap-2",children:[(0,M.jsx)(y._,{htmlFor:"assignedToId",children:"Assigned To"}),(0,M.jsxs)(v.Ph,{value:Y.assignedToId?Y.assignedToId.toString():"",onValueChange:function(e){var t=em.find(function(t){return t.id===parseInt(e)});H(R(R({},Y),{},{assignedToId:parseInt(e),assignedToName:t?"".concat(t.firstName," ").concat(t.lastName):"Unknown"}))},children:[(0,M.jsx)(v.i4,{className:"w-[280px]",children:(0,M.jsx)(v.ki,{placeholder:"Select an employee"})}),(0,M.jsx)(v.Bw,{children:em.map(function(e){return(0,M.jsxs)(v.Ql,{value:e.id.toString(),children:[e.firstName," ",e.lastName]},e.id)})})]})]}),(0,M.jsxs)("div",{className:"grid gap-2",children:[(0,M.jsx)(y._,{htmlFor:"priority",children:"Priority"}),(0,M.jsxs)(v.Ph,{value:Y.priority,onValueChange:function(e){return H(R(R({},Y),{},{priority:e}))},children:[(0,M.jsx)(v.i4,{className:"w-[280px]",children:(0,M.jsx)(v.ki,{placeholder:"Select a priority"})}),(0,M.jsxs)(v.Bw,{children:[(0,M.jsx)(v.Ql,{value:"low",children:"Low"}),(0,M.jsx)(v.Ql,{value:"medium",children:"Medium"}),(0,M.jsx)(v.Ql,{value:"high",children:"High"})]})]})]}),(0,M.jsxs)("div",{className:"grid gap-2",children:[(0,M.jsx)(y._,{htmlFor:"storeId",children:"Store"}),(0,M.jsxs)(v.Ph,{value:Y.storeId?Y.storeId.toString():"",onValueChange:function(e){return H(R(R({},Y),{},{storeId:parseInt(e)}))},children:[(0,M.jsx)(v.i4,{className:"w-[280px]",children:(0,M.jsx)(v.ki,{placeholder:"Select a store"})}),(0,M.jsx)(v.Bw,{children:ev.map(function(e){return(0,M.jsx)(v.Ql,{value:e.id.toString(),children:e.storeName},e.id)})})]})]}),(0,M.jsxs)("div",{className:"flex justify-between mt-4",children:[(0,M.jsx)(f.z,{variant:"outline",onClick:function(){ee("general")},children:"Back"}),(0,M.jsx)(f.z,{onClick:eM,children:"Create Requirement"})]})]})})]})]})}),eu?(0,M.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,M.jsx)(S.Z,{className:"w-8 h-8 animate-spin text-primary"})}):0===L.length?(0,M.jsxs)("div",{className:"text-center py-10",children:[(0,M.jsx)(I.Z,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),(0,M.jsx)("p",{className:"text-xl font-semibold",children:"No requirements found."}),(0,M.jsx)("p",{className:"text-gray-500 mt-2",children:"Try adjusting your filters or create a new requirement."})]}):(0,M.jsx)("div",{className:"flex flex-wrap -mx-2",children:L.slice((ea-1)*10,10*ea).map(function(e,t){return eX(e,t)})}),(0,M.jsx)("div",{className:"mt-8 flex justify-center",children:function(){var e=Math.ceil(L.length/10),t=[],r=Math.max(ea-Math.floor(2.5),1),s=r+5-1;s>e&&(r=Math.max((s=e)-5+1,1));for(var n=r;n<=s;n++)t.push(n);return(0,M.jsx)(C.tl,{children:(0,M.jsxs)(C.ng,{children:[1!==ea&&(0,M.jsx)(C.dN,{onClick:function(){return eW(ea-1)}}),r>1&&(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(C.nt,{children:(0,M.jsx)(C.kN,{onClick:function(){return eW(1)},children:"1"})}),r>2&&(0,M.jsx)(C.nt,{children:(0,M.jsx)(C.kN,{children:"..."})})]}),t.map(function(e){return(0,M.jsx)(C.nt,{children:(0,M.jsx)(C.kN,{isActive:e===ea,onClick:function(){return eW(e)},children:e})},e)}),s<e&&(0,M.jsxs)(M.Fragment,{children:[s<e-1&&(0,M.jsx)(C.nt,{children:(0,M.jsx)(C.kN,{children:"..."})}),(0,M.jsx)(C.nt,{children:(0,M.jsx)(C.kN,{onClick:function(){return eW(e)},children:e})})]}),ea!==e&&(0,M.jsx)(C.$0,{onClick:function(){return eW(ea+1)}})]})})}()})]})}},60209:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Requirements",function(){return r(23515)}])},67271:function(){}},function(e){e.O(0,[3662,9545,6066,3800,5059,3192,3133,2288,2981,2888,9774,179],function(){return e(e.s=60209)}),_N_E=e.O()}]);