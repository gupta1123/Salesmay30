(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[86],{23857:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var n=(0,r(92765).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},79162:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var n=(0,r(92765).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},50394:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var n=(0,r(92765).Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},96191:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var n=(0,r(92765).Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},41848:function(e,t,r){"use strict";r.d(t,{O:function(){return l}});var n=r(59499),a=r(4730),c=r(20439),s=r(85893),i=["className"];function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){var t=e.className,r=(0,a.Z)(e,i);return(0,s.jsx)("div",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({className:(0,c.cn)("animate-pulse rounded-md bg-primary/10",t)},r))}},28701:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return h}});var n=r(59499),a=r(50029),c=r(64687),s=r.n(c),i=r(67294),u=r(23857),l=r(96191),o=r(87066);r(14792);var d=r(85893);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function h(e){var t,r,c=e.authToken,f=(0,i.useState)([]),h=f[0],m=f[1],x=(0,i.useState)(!0),v=x[0],y=x[1],j=(0,i.useState)(null),b=j[0],g=j[1],w=(0,i.useState)({}),k=w[0],N=w[1];(0,i.useEffect)(function(){O()},[c]);var O=(t=(0,a.Z)(s().mark(function e(){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.get("https://api.gajkesaristeels.in/request/getByStatus?status=pending",{headers:{Authorization:"Bearer ".concat(c)}});case 3:m(e.sent.data),y(!1),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),g("Failed to fetch pending requests. Please try again later."),y(!1);case 12:case"end":return e.stop()}},e,null,[[0,8]])})),function(){return t.apply(this,arguments)}),C=(r=(0,a.Z)(s().mark(function e(t,r){var a,i;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=k[t]||(null===(a=h.find(function(e){return e.id===t}))||void 0===a?void 0:a.requestedStatus)||"full day",e.prev=1,e.next=4,o.Z.put("https://api.gajkesaristeels.in/request/updateStatus?id=".concat(t,"&status=").concat(r,"&attendance=").concat(encodeURIComponent(i)),null,{headers:{Authorization:"Bearer ".concat(c),requestId:t.toString()}});case 4:return e.next=6,O();case 6:N(function(e){return p(p({},e),{},(0,n.Z)({},t,null))}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),g("Failed to update request status. Please try again.");case 12:case"end":return e.stop()}},e,null,[[1,9]])})),function(e,t){return r.apply(this,arguments)}),D=function(e,t){N(function(r){return p(p({},r),{},(0,n.Z)({},e,t))})};return v?(0,d.jsx)("div",{className:"loadingMessage",children:"Loading pending requests..."}):b?(0,d.jsx)("div",{className:"errorMessage",children:b}):(0,d.jsxs)("div",{className:"approvalContainer",children:[(0,d.jsx)("h2",{className:"approvalTitle",children:"Approval Requests"}),0===h.length?(0,d.jsx)("div",{className:"noRequests",children:"No pending requests at the moment."}):h.map(function(e){return(0,d.jsxs)("div",{className:"approvalCard",children:[(0,d.jsxs)("div",{className:"approvalCardHeader",children:[(0,d.jsx)("span",{className:"employeeName",children:e.employeeName}),(0,d.jsx)("span",{className:"statusBadge status".concat(e.status),children:e.status})]}),(0,d.jsxs)("div",{className:"approvalCardContent",children:[(0,d.jsxs)("div",{className:"requestDetails",children:[(0,d.jsxs)("p",{className:"requestDetail",children:["Requested Date: ",e.requestDate]}),(0,d.jsxs)("p",{className:"requestDetail",children:["Log Date: ",e.logDate]}),(0,d.jsxs)("p",{className:"requestDetail",children:["Requested Type: ",e.requestedStatus]})]}),"pending"===e.status&&(0,d.jsxs)("div",{className:"approvalActions",children:[(0,d.jsxs)("div",{className:"approvalTypeSelection",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("input",{type:"radio",name:"approvalType_".concat(e.id),value:"full day",checked:"full day"===k[e.id],onChange:function(){return D(e.id,"full day")}})," Full Day"]}),(0,d.jsxs)("label",{children:[(0,d.jsx)("input",{type:"radio",name:"approvalType_".concat(e.id),value:"half day",checked:"half day"===k[e.id],onChange:function(){return D(e.id,"half day")}})," Half Day"]})]}),(0,d.jsxs)("div",{className:"approvalButtons",children:[(0,d.jsxs)("button",{className:"approveButton",onClick:function(){return C(e.id,"approved")},children:[(0,d.jsx)(u.Z,{size:16}),(0,d.jsx)("span",{children:"Approve"})]}),(0,d.jsxs)("button",{className:"rejectButton",onClick:function(){return C(e.id,"rejected")},children:[(0,d.jsx)(l.Z,{size:16}),(0,d.jsx)("span",{children:"Reject"})]})]})]})]})]},e.id)})]})}},90311:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return P}});var n=r(67294),a=r(45007),c=r(32782),s=r(91109),i=r(28417),u=r(95529),l=r(27812),o=r(59499),d=r(50029),f=r(16835),p=r(64687),h=r.n(p),m=r(89899),x=r(65474),v=r(62546),y=r(50394),j=r(79162),b=(0,r(92765).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),g=r(41848);function w(e,t){return e===t}function k(e,t,r){var a=r&&r.equalityFn||w,c=(0,n.useRef)(e),s=(0,n.useState)({})[1],i=function(e,t,r){var a=this,c=(0,n.useRef)(null),s=(0,n.useRef)(0),i=(0,n.useRef)(null),u=(0,n.useRef)([]),l=(0,n.useRef)(),o=(0,n.useRef)(),d=(0,n.useRef)(e),f=(0,n.useRef)(!0);d.current=e;var p="undefined"!=typeof window,h=!t&&0!==t&&p;if("function"!=typeof e)throw TypeError("Expected a function");t=+t||0;var m=!!(r=r||{}).leading,x=!("trailing"in r)||!!r.trailing,v="maxWait"in r,y="debounceOnServer"in r&&!!r.debounceOnServer,j=v?Math.max(+r.maxWait||0,t):null;return(0,n.useEffect)(function(){return f.current=!0,function(){f.current=!1}},[]),(0,n.useMemo)(function(){var e=function(e){var t=u.current,r=l.current;return u.current=l.current=null,s.current=e,o.current=d.current.apply(r,t)},r=function(e,t){h&&cancelAnimationFrame(i.current),i.current=h?requestAnimationFrame(e):setTimeout(e,t)},n=function(e){if(!f.current)return!1;var r=e-c.current;return!c.current||r>=t||r<0||v&&e-s.current>=j},b=function(t){return i.current=null,x&&u.current?e(t):(u.current=l.current=null,o.current)},g=function e(){var a=Date.now();if(n(a))return b(a);if(f.current){var i=t-(a-c.current);r(e,v?Math.min(i,j-(a-s.current)):i)}},w=function(){if(p||y){var d=Date.now(),h=n(d);if(u.current=[].slice.call(arguments),l.current=a,c.current=d,h){if(!i.current&&f.current)return s.current=c.current,r(g,t),m?e(c.current):o.current;if(v)return r(g,t),e(c.current)}return i.current||r(g,t),o.current}};return w.cancel=function(){i.current&&(h?cancelAnimationFrame(i.current):clearTimeout(i.current)),s.current=0,u.current=c.current=l.current=i.current=null},w.isPending=function(){return!!i.current},w.flush=function(){return i.current?b(Date.now()):o.current},w},[m,v,t,j,x,h,p,y])}((0,n.useCallback)(function(e){c.current=e,s({})},[s]),t,r),u=(0,n.useRef)(e);return a(u.current,e)||(i(e),u.current=e),[c.current,i]}var N=r(85893);function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach(function(t){(0,o.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var S=function(){var e,t,r,c,s,i=new Date,u=(0,n.useState)(i.toLocaleString("default",{month:"long"})),p=u[0],w=u[1],O=(0,n.useState)(i.getFullYear()),S=O[0],Z=O[1],P=(0,n.useState)("all"),E=P[0],T=P[1],A=(0,n.useState)({}),q=A[0],F=A[1],B=(0,a.v9)(function(e){return e.auth.token}),_=(0,n.useState)(!0),I=_[0],R=_[1],z=(0,n.useState)({}),M=z[0],Y=z[1],V=k(M,1e3),U=(0,f.Z)(V,1)[0],W=(0,n.useState)({}),J=W[0],H=W[1],L=k(J,1e3),Q=(0,f.Z)(L,1)[0];(0,n.useEffect)(function(){X()},[B,p,S]),(0,n.useEffect)(function(){Object.entries(U).forEach(function(e){var t=(0,f.Z)(e,2);ee(t[0],t[1])})},[U]),(0,n.useEffect)(function(){Object.entries(Q).forEach(function(e){var t=(0,f.Z)(e,2),r=t[0],n=t[1],a=r.split("|"),c=(0,f.Z)(a,2);er(c[0],Number(c[1]),n)})},[Q]);var X=(e=(0,d.Z)(h().mark(function e(){var t,r;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),e.prev=1,e.next=4,fetch("https://api.gajkesaristeels.in/target/getByMonthYear?month=".concat(p,"&year=").concat(S),{headers:{Authorization:"Bearer ".concat(B)}});case 4:if((t=e.sent).ok){e.next=7;break}throw Error("Failed to fetch targets");case 7:return e.next=9,t.json();case 9:return r=e.sent,e.next=12,G(r);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.error("Error fetching targets:",e.t0);case 17:return e.prev=17,R(!1),e.finish(17);case 20:case"end":return e.stop()}},e,null,[[1,14,17,20]])})),function(){return e.apply(this,arguments)}),$=(t=(0,d.Z)(h().mark(function e(t){var r;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.gajkesaristeels.in/target/employees?cityTargetId=".concat(t),{headers:{Authorization:"Bearer ".concat(B)}});case 3:if((r=e.sent).ok){e.next=6;break}throw Error("Failed to fetch employees by target ID");case 6:return e.next=8,r.json();case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(0),console.error("Error fetching employees by target ID:",e.t0),e.abrupt("return",[]);case 15:case"end":return e.stop()}},e,null,[[0,11]])})),function(e){return t.apply(this,arguments)}),G=(r=(0,d.Z)(h().mark(function e(t){var r,n,a,c;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r={},n=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return D(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D(e,void 0)}}(e))){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,s=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){i=!0,c=e},f:function(){try{s||null==r.return||r.return()}finally{if(i)throw c}}}}(t),e.prev=2,c=h().mark(function e(){var t,n,c;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(t=a.value).city.trim()||"Unassigned",e.next=4,$(t.id);case 4:c=e.sent.map(function(e){return{id:e.employeeId,firstName:e.employeeName.split(" ")[0],lastName:e.employeeName.split(" ")[1]||"",city:n,role:"Field Officer",contribution:e.achievedValue,employeeTargetId:e.id}}),r[n]={id:t.id,target:t.targetValue,achievement:t.totalAchievements,employees:c};case 7:case"end":return e.stop()}},e)}),n.s();case 5:if((a=n.n()).done){e.next=9;break}return e.delegateYield(c(),"t0",7);case 7:e.next=5;break;case 9:e.next=14;break;case 11:e.prev=11,e.t1=e.catch(2),n.e(e.t1);case 14:return e.prev=14,n.f(),e.finish(14);case 17:F(r);case 18:case"end":return e.stop()}},e,null,[[2,11,14,17]])})),function(e){return r.apply(this,arguments)}),K=function(e,t){Y(function(r){return C(C({},r),{},(0,o.Z)({},e,t))})},ee=(c=(0,d.Z)(h().mark(function e(t,r){var n,a;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=null===(n=q[t])||void 0===n?void 0:n.id){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,fetch("https://api.gajkesaristeels.in/target/edit",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(B)},body:JSON.stringify({id:a,targetValue:r})});case 6:if(e.sent.ok){e.next=9;break}throw Error("Failed to update target");case 9:F(function(e){return C(C({},e),{},(0,o.Z)({},t,C(C({},e[t]),{},{target:r})))}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("Error updating target:",e.t0);case 15:case"end":return e.stop()}},e,null,[[0,12]])})),function(e,t){return c.apply(this,arguments)}),et=function(e,t,r){H(function(n){return C(C({},n),{},(0,o.Z)({},"".concat(e,"|").concat(t),r))})},er=(s=(0,d.Z)(h().mark(function e(t,r,n){var a;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(!(a=q[t].employees.find(function(e){return e.id===r}))||!a.employeeTargetId)){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,fetch("https://api.gajkesaristeels.in/target/updateAchievement?employeeTargetId=".concat(a.employeeTargetId,"&achievedValue=").concat(n),{method:"PUT",headers:{Authorization:"Bearer ".concat(B)}});case 6:if(e.sent.ok){e.next=9;break}throw Error("Failed to update achievement");case 9:F(function(e){var a=C({},e[t]);return a.employees=a.employees.map(function(e){return e.id===r?C(C({},e),{},{contribution:n}):e}),a.achievement=a.employees.reduce(function(e,t){return e+(t.contribution||0)},0),C(C({},e),{},(0,o.Z)({},t,a))}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("Error updating achievement:",e.t0);case 15:case"end":return e.stop()}},e,null,[[0,12]])})),function(e,t,r){return s.apply(this,arguments)}),en=function(){var e=["bg-blue-500","bg-green-500","bg-yellow-500","bg-red-500","bg-purple-500","bg-pink-500"];return e[Math.floor(Math.random()*e.length)]};return(0,N.jsxs)("div",{className:"max-w-7xl mx-auto p-4",children:[(0,N.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Monthly Target and Achievement"}),(0,N.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-4 space-y-4 md:space-y-0 md:space-x-4",children:[(0,N.jsxs)("div",{className:"w-full md:w-64",children:[(0,N.jsx)("label",{htmlFor:"month-select",className:"block text-sm font-medium mb-1",children:"Select Month"}),(0,N.jsxs)(m.Ph,{onValueChange:function(e){w(e),T("all")},value:p,children:[(0,N.jsx)(m.i4,{className:"w-full",children:(0,N.jsx)(m.ki,{placeholder:"Select a month"})}),(0,N.jsx)(m.Bw,{children:["January","February","March","April","May","June","July","August","September","October","November","December"].map(function(e){return(0,N.jsx)(m.Ql,{value:e,children:e},e)})})]})]}),(0,N.jsxs)("div",{className:"w-full md:w-64",children:[(0,N.jsx)("label",{htmlFor:"year-select",className:"block text-sm font-medium mb-1",children:"Select Year"}),(0,N.jsxs)(m.Ph,{onValueChange:function(e){Z(Number(e)),T("all")},value:S.toString(),children:[(0,N.jsx)(m.i4,{className:"w-full",children:(0,N.jsx)(m.ki,{placeholder:"Select a year"})}),(0,N.jsx)(m.Bw,{children:[i.getFullYear()-1,i.getFullYear(),i.getFullYear()+1].map(function(e){return(0,N.jsx)(m.Ql,{value:e.toString(),children:e},e)})})]})]}),(0,N.jsxs)("div",{className:"w-full md:w-64",children:[(0,N.jsx)("label",{htmlFor:"city-filter",className:"block text-sm font-medium mb-1",children:"Filter by City"}),(0,N.jsxs)(m.Ph,{onValueChange:function(e){T(e)},value:E,children:[(0,N.jsx)(m.i4,{className:"w-full",children:(0,N.jsx)(m.ki,{placeholder:"Select a city"})}),(0,N.jsxs)(m.Bw,{children:[(0,N.jsx)(m.Ql,{value:"all",children:"All Cities"}),Object.keys(q).sort().map(function(e){return(0,N.jsx)(m.Ql,{value:e,children:e},e)})]})]})]})]}),(0,N.jsx)("div",{id:"months-container",children:I?(0,N.jsx)(x.Zb,{className:"mb-4",children:(0,N.jsxs)(x.aY,{className:"p-4",children:[(0,N.jsx)(g.O,{className:"h-6 w-1/4 mb-4"}),(0,N.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:(0,l.Z)([,,,]).map(function(e,t){return(0,N.jsx)(g.O,{className:"h-24 w-full"},t)})})]})}):(0,N.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(q).sort(function(e,t){var r=(0,f.Z)(e,1)[0],n=(0,f.Z)(t,1)[0];return r.localeCompare(n)}).map(function(e){var t,r=(0,f.Z)(e,2),n=r[0],a=r[1];return("all"===E||E===n)&&(0,N.jsx)(x.Zb,{className:"mb-4",children:(0,N.jsxs)(x.aY,{className:"p-4",children:[(0,N.jsxs)("div",{className:"flex flex-col justify-between items-start mb-3",children:[(0,N.jsx)("h3",{className:"text-lg font-semibold mb-2",children:n}),(0,N.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,N.jsxs)("span",{className:"flex items-center",children:[(0,N.jsx)(y.Z,{className:"w-4 h-4 mr-1 text-blue-500"}),"Target:",(0,N.jsx)(v.I,{type:"number",value:null!==(t=M[n])&&void 0!==t?t:a.target,onChange:function(e){return K(n,Number(e.target.value))},onBlur:function(){var e;return ee(n,null!==(e=M[n])&&void 0!==e?e:a.target)},className:"w-20 ml-1 p-1 text-sm"})]}),(0,N.jsxs)("span",{className:"flex items-center",children:[(0,N.jsx)(j.Z,{className:"w-4 h-4 mr-1 text-green-500"}),"Achievement: ",a.achievement]}),(0,N.jsxs)("span",{className:"flex items-center",children:[(0,N.jsx)(b,{className:"w-4 h-4 mr-1 text-yellow-500"}),"Pending: ",a.target-a.achievement]})]})]}),(0,N.jsx)("div",{className:"space-y-3",children:a.employees.map(function(e){var t;return(0,N.jsxs)("div",{className:"bg-gray-50 p-3 rounded-md shadow-sm flex flex-col",children:[(0,N.jsx)("div",{className:"flex justify-between items-center mb-2",children:(0,N.jsxs)("div",{className:"flex items-center",children:[(0,N.jsx)("div",{className:"avatar ".concat(en()," mr-2 w-7 h-7 rounded-full flex items-center justify-center text-white text-xs font-bold"),children:"".concat(e.firstName," ").concat(e.lastName).split(" ").map(function(e){return e[0]}).join("").toUpperCase()}),(0,N.jsx)("span",{className:"font-medium text-sm",children:"".concat(e.firstName," ").concat(e.lastName)})]})}),(0,N.jsxs)("div",{className:"flex items-center",children:[(0,N.jsx)("span",{className:"text-xs text-gray-500 mr-2",children:"Contribution:"}),(0,N.jsx)(v.I,{type:"number",value:null!==(t=J["".concat(n,"|").concat(e.id)])&&void 0!==t?t:e.contribution,onChange:function(t){return et(n,e.id,Number(t.target.value))},onBlur:function(){var t,r;return er(n,e.id,null!==(t=null!==(r=J["".concat(n,"|").concat(e.id)])&&void 0!==r?r:e.contribution)&&void 0!==t?t:0)},className:"w-full text-sm"})]})]},e.id)})})]})},n)})})})]})},Z=r(28701);function P(){var e,t=(0,n.useState)("salary"),r=t[0],l=t[1],o=(0,a.v9)(function(e){return e.auth.token}),d=[{id:"salary",label:"Salary",component:(0,N.jsx)(c.default,{authToken:o||""})},{id:"allowance",label:"Allowance",component:(0,N.jsx)(s.default,{authToken:o||""})},{id:"workingDays",label:"Working Days",component:(0,N.jsx)(i.default,{authToken:o||""})},{id:"team",label:"Team",component:(0,N.jsx)(u.default,{authToken:o||""})},{id:"target",label:"Target",component:(0,N.jsx)(S,{})},{id:"approval",label:"Approval",component:(0,N.jsx)(Z.default,{authToken:o||""})}];return(0,N.jsx)("div",{className:"settingsContainer",children:(0,N.jsxs)(x.Zb,{className:"new w-full max-w-6xl mx-auto",children:[(0,N.jsx)(x.Ol,{children:(0,N.jsx)(x.ll,{className:"text-xl sm:text-2xl md:text-3xl font-bold text-center",children:"Settings"})}),(0,N.jsxs)(x.aY,{children:[(0,N.jsx)("div",{className:"tabHeader",children:d.map(function(e){return(0,N.jsx)("button",{className:"tabButton ".concat(r===e.id?"activeTab":""),onClick:function(){return l(e.id)},children:e.label},e.id)})}),(0,N.jsx)("div",{className:"tabContent",children:null===(e=d.find(function(e){return e.id===r}))||void 0===e?void 0:e.component})]})]})})}r(89754)},28417:function(e,t,r){"use strict";r.r(t);var n=r(59499),a=r(50029),c=r(64687),s=r.n(c),i=r(67294),u=r(91617),l=r(29222),o=r(43498),d=r.n(o),f=r(85893);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}t.default=function(e){var t,r=e.authToken,n=(0,i.useState)({fullDayCount:6,halfDayCount:3}),c=n[0],o=n[1],p=(0,i.useState)(!1),m=p[0],x=p[1],v=(0,i.useState)({fullDayCount:6,halfDayCount:3}),y=v[0],j=v[1],b=(0,i.useCallback)((0,a.Z)(s().mark(function e(){var t,n;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.gajkesaristeels.in/attendance-rule/getById?id=2",{headers:{Authorization:"Bearer ".concat(r)}});case 3:return t=e.sent,e.next=6,t.json();case 6:o(n=e.sent),j(n),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error fetching working days:",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,11]])})),[r]),g=(t=(0,a.Z)(s().mark(function e(){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.gajkesaristeels.in/attendance-rule/edit?id=2",{method:"PUT",headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"},body:JSON.stringify(y)});case 3:b(),x(!1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error updating working days:",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(){return t.apply(this,arguments)});return(0,i.useEffect)(function(){b()},[b]),(0,f.jsxs)("div",{className:d().workingDaysContainer,children:[(0,f.jsx)("h2",{children:"Working Days"}),(0,f.jsxs)(u.iA,{className:d().table,children:[(0,f.jsx)(u.xD,{children:(0,f.jsxs)(u.SC,{children:[(0,f.jsx)(u.ss,{children:"Full Days"}),(0,f.jsx)(u.ss,{children:"Half Days"}),(0,f.jsx)(u.ss,{children:"Action"})]})}),(0,f.jsx)(u.RM,{children:(0,f.jsxs)(u.SC,{children:[(0,f.jsx)(u.pj,{children:m?(0,f.jsx)("input",{type:"number",value:y.fullDayCount,onChange:function(e){return j(h(h({},y),{},{fullDayCount:parseInt(e.target.value,10)}))}}):c.fullDayCount}),(0,f.jsx)(u.pj,{children:m?(0,f.jsx)("input",{type:"number",value:y.halfDayCount,onChange:function(e){return j(h(h({},y),{},{halfDayCount:parseInt(e.target.value,10)}))}}):c.halfDayCount}),(0,f.jsx)(u.pj,{children:m?(0,f.jsx)(l.z,{variant:"outline",size:"sm",onClick:function(){g(),x(!1)},children:"Save"}):(0,f.jsx)(l.z,{variant:"outline",size:"sm",onClick:function(){return x(!0)},children:"Edit"})})]})})]})]})}},52789:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Settings",function(){return r(90311)}])},14792:function(){},89754:function(){},43498:function(e){e.exports={workingDaysContainer:"WorkingDays_workingDaysContainer__esgBa",table:"WorkingDays_table__FvRko"}}},function(e){e.O(0,[9545,6066,5059,3089,4208,7890,1139,5529,2782,1109,2888,9774,179],function(){return e(e.s=52789)}),_N_E=e.O()}]);